# 01. 并发的优缺点和易混淆的几个概念

## 1. 并发的优缺点

### 优点
>1. 充分利用多核CPU的运算能力，使线程之间可以并行操作，更快的处理能力
>2. 异步执行比同步执行更快，使程序的处理能力得到提升
>3. 资源利用率提高，如文件读取等情况


### 缺点
>1. 频繁的上下文切换  
在操作系统内部多线程直接的实现是基于时间片实现的。 CPU 基于时间片不断的切换线程，使得少量的 CPU 能够支撑起大量的线程。但是每次切换线程为了能够在下次轮到这个线程的时间片到了能够继续执行下去，需要把当前的状态保存起来，下次好恢复。而这个过程是很耗时间的。所以大量的线程存在，会导致更高的上下文切换，反而会影响到系统的效率。
>2. 安全性问题  
多个线程共享数据时可能会产生于期望不相符的结果
>3. 线程活性问题  
死锁，活锁线程饥饿，等问题

死锁：两个或者更多的线程相互占用对方的资源的锁，而又相互等对方释放锁而被永远暂停(线程的生命周期状态为BLOCKED或者WAITING)。

活锁：线程拿到资源却又相互释放不执行，相互谦让，都主动将资源释放给别的线程使用，这样这个资源在多个线程之间跳动而又得不到执行。

线程饥饿：线程一直无法获得其所需的资源而导致其任务一直无法进展(优先级高的线程一直抢占优先级低线程的资源，导致低优先级线程无法得到执行)


## 2. 易混淆的几个概念

### 同步 VS 异步
同步和异步关注的是 `消息通信机制`。  
同步：调用方发起一个调用，在没有得到结果之前，这个调用就不返回。也就是说: 调用方主动等待调用的结果。(A 调用了一个方法，A 必须等到这个方法返回结果了，才能执行后续的代码)

异步：调用方发起一个调用后，就不管了，后续有结果了，让被调用方通知调用方。(A 调用了一个方法后，就继续执行后面的代码，不用等待方法的返回值) 一般情况下，被调用方处理完后，会通过状态、通知、回调函数等来通知调用者。

### 阻塞 VS 非阻塞
阻塞和非阻塞关注的是 `程序在等待调用结果时的状态`。  
阻塞：调用方发起一个调用，在没有得到结果之前，调用方会被挂起  

非阻塞：调用方发起一个调用，在没有得到结果之前，调用方不会被挂起。

### 并发 VS 并行
并发：多个任务交替执行，也就是同一个时刻只有一个任务在执行。  

并行：多个任务同时执行，也就是同一个时刻有多个任务在执行。